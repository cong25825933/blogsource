---
title: React在线编辑国际化文本
datetime: 2018-06-22 14:33:11
---

今天给大家介绍一个轻量但神奇的国际化库[tiny-i18n](https://github.com/imcuttle/tiny-i18n)

在我们的项目日益庞大的情况下，国际化的字典愈变愈大，国际化文本的维护是一个问题；  
有时候修改一个字段，查找就花费了很大的时间功夫。
这个时候 tiny-i18n 中的 [@tiny-i18n/react-live](https://github.com/imcuttle/tiny-i18n/tree/master/packages/react-live) 就可以发挥它的力量了，可以帮助我们在线可视化修改、新增国际化字段。

## 效果

- 视频效果：http://obu9je6ng.bkt.clouddn.com/Jietu20180622-102135-HD.mp4

- [DEMO](https://imcuttle.github.io/tiny-i18n/) - 更新后，字典存储至 localStorage 中

## 体验在线编辑

<iframe src="https://codesandbox.io/embed/kpow6rnnr" style="width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;" sandbox="allow-modals allow-forms allow-popups allow-scripts allow-same-origin"></iframe>

## 实现原理

对 i18n 转换方法进行包装，转换成包含特殊字符（包裹）的字符串；同时对 `React.createElement` 方法进行包装，检测出包含特殊字符（包裹）的字符串，这时候就会被认为是国际化的文本，这个时候再去注入一些而外的交互逻辑。